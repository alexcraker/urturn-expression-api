<h1>expression.storage</h1>
<h3>
	Introduction
</h3>
<p>
	The <strong>storage</strong> api let you store and retrieve data in your expression. This storage is persistance inside a post of an expression.
	<ul>
    <li>
      Allow you to easily store datas inside your expression. (<a name='#getItem'>getItem</a>)
    </li>
    <li>
      Allow you to easily retrieve datas inside your expression. (<a name='#setItem'>setItem</a>)
    </li>
    <li>
      Allow you to control when your data are upload to server for sync. (<a name='#save'>commit</a>)
    </li>
    <li>
      You can use it in a way simillar to <a href='http://diveintohtml5.info/storage.html'>HTML5 local storage API</a>. (<a name='#storage'>Use it in a localStorage way</a>)
    </li>
	</ul>
</p>
<br/>
<h3><a name='getItem'>expression.storage.getItem(key, defaultValue)</a></h3>
<h4>Parameters</h4>
<p>
  <b>key (String)</b> : The key of the itme you want to retrieve<br/>
	<b>defaultValue</b> : The defaultValue, return if no value match the asked key.
</p>
<h4>Return value</h4>
<p>
	<b>[Object | String | Array | Number]</b> : The value associated with the key or defaultValue if no value is associated with key
</p>
<h4>Usage</h4>
<p>
	The <b>getItem</b> method will let you retrieve a some data previously saved.
</br/>
<pre class="prettyprint"><code class="lang-javascript">
  UT.Expression.ready( function( expression ) 
  {
    var test = expression.storage.getItem('test', 'no result');
    console.log (test);
  });

</code></pre>
</p>
<br/>
<h3><a name='setItem'>expression.storage.setItem(key, value)</a></h3>
<h4>Parameters</h4>
<p>
  <b>key [String]</b> : The key under wich the item will be saved. <br/>
  <b>value [String | Object| Array | Number]</b> : The value you want to save. 
</p>
<h4>Return value</h4>
<p>
	<b>No Value return</b>
</p>
<h4>Usage</h4>
<p>
	The <b>setItem</b> method will let you save a ressource so you can retrieve it latter (for exemple : when a post is shown to an user).
</br/>
<pre class="prettyprint"><code class="lang-javascript">
  UT.Expression.ready( function( expression ) 
  {
    expression.setItem('test', 'This is a Test');
    expression.setItem('data', {date : '22-22-3232'});
  });
</code></pre>
</p>
<br/>
<h3><a name='save'>expression.storage.commit()</a></h3>
<h4>Parameters</h4>
<p>
  <b>No parameters</b>
</p>
<h4>Return value</h4>
<p>
  <b>No return value</b>
</p>
<h4>Usage</h4>
<p>
	<b>commit</b> tell storage API to synchronise with server now. Usage is OPTIONAL, you data will be saved even if you not call it. This is usefull when you want to synchronise big chunk of datas (think image / video), before the post action.

  </br/>
  <pre class="prettyprint"><code class="lang-javascript">
    UT.Expression.ready( function( expression ) 
    {
      expression.setItem('test', 'This is a Test');
      expression.setItem('data', {date : '22-22-3232'});
      expression.commit();
    });
  </code></pre>

</p>
<br/>
<h3><a name='storage'>Use expression.storage in a similar way to localStorage</a></h3>
<h4>Concept</h4>
<p>
	The storage API can be used like the localStorage API.<br/>
  Instead of using setItem and getItem, you can use it as an Array.
</p>
<h4>Usage</h4>
<p>
<pre class="prettyprint"><code class="lang-javascript">
  UT.Expression.ready( function( expression ) 
  {
    expression.storage['key'] = {hello : 'world'};
    expression.storage.anotherKey = 42;
    expression.storage.result = expression.storage.key.hello + expression.storage['anotherKey'];

    // Will Show : 'world42'
    console.log(expression.storage.result);
  });
  
</code></pre>
</p>
