function FastClick(t){"use strict";var e,i=this;if(this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.layer=t,!t||!t.nodeType)throw new TypeError("Layer must be a document node");this.onClick=function(){FastClick.prototype.onClick.apply(i,arguments)},this.onTouchStart=function(){FastClick.prototype.onTouchStart.apply(i,arguments)},this.onTouchMove=function(){FastClick.prototype.onTouchMove.apply(i,arguments)},this.onTouchEnd=function(){FastClick.prototype.onTouchEnd.apply(i,arguments)},this.onTouchCancel=function(){FastClick.prototype.onTouchCancel.apply(i,arguments)},void 0!==window.ontouchstart&&(t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,i,n){var o=Node.prototype.removeEventListener;"click"===e?o.call(t,e,i.hijacked||i,n):o.call(t,e,i,n)},t.addEventListener=function(e,i,n){var o=Node.prototype.addEventListener;"click"===e?o.call(t,e,i.hijacked||(i.hijacked=function(t){t.propagationStopped||i(t)}),n):o.call(t,e,i,n)}),"function"==typeof t.onclick&&(e=t.onclick,t.addEventListener("click",function(t){e(t)},!1),t.onclick=null))}var UT={},WD=UT;UT.uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=0|16*Math.random(),i="x"==t?e:8|3&e;return i.toString(16)})},UT.UUID=UT.uuid;var supportGetSet=function(){try{!Object.prototype.__defineGetter__&&Object.defineProperty({},"x",{get:function(){return!0}}).x&&(Object.defineProperty(Object.prototype,"__defineGetter__",{enumerable:!1,configurable:!0,value:function(t,e){Object.defineProperty(this,t,{get:e,enumerable:!0,configurable:!0})}}),Object.defineProperty(Object.prototype,"__defineSetter__",{enumerable:!1,configurable:!0,value:function(t,e){Object.defineProperty(this,t,{set:e,enumerable:!0,configurable:!0})}}))}catch(t){throw Error("Simple Storage API not Supported")}};supportGetSet(),UT.Collection=function(t){this.length=0,this.name=null;var e=function(t,e){if(!t)throw Error("InvalidKey",t);if(-1!=h.indexOf(t))throw Error("ReservedKey",t);var i=d(t,e),n=this.getItem(t);return i||a[t]?(!n||null!==i&&void 0!==i?!n&&i?(u++,s.push(t),a[t]=i):a[t]=i:(s.splice(s.indexOf(t),1),u--,delete a[t]),-1==c.indexOf(t)&&c.push(t),this.length=s.length,e):i};this.setItem=e;var i=function(t,e){if(!t)return null;var i=a[t];return void 0===i?-1===l.indexOf(t)&&void 0!==this[t]?this[t]:e:"literal"==i._type?i.value:i};this.getItem=i,this.key=function(t){return t>=s.length?null:s[t]},this.average=function(t){return operations[t]?operations[t].average:void 0},this.sum=function(t){return operations[t]?operations[t].sum:void 0},this.count=function(t){if(!t)return u;if(operations[t])return operations[t]?operations[t].count:void 0},this.toString=function(){return'<Collection @name="'+this.name+'">'},this.save=function(){m.apply(this);var t={};if(c.length>0){for(var e=0;c.length>e;e++)t[c[e]]=UT.Collection.marshallItem(a[c[e]]);o.save(this.name,t),c=[]}},this.getCurrentData=function(){var t={name:this.name,count:u,definition:r.definition,operations:[],items:[]};if(r.operations)for(var e=0;r.operations.length>e;e++){var i={operation:r.operations[e].operation,field:r.operations[e].field};opsToolbox[i.operation].toJsonData(operations[i.field],i),t.operations.push(i)}for(var n in a){var o=a[n];o._key=n,t.items.push(o)}return t},this.refresh=function(t){f.call(this,{currentUserId:n,delegate:o,data:t})};var n,o,r,a,s,c,l,u,h=["refresh","setItem","getItem","count","sum","key","getUserItem","setUserItem","average","toString","size","length","length","name","save","fieldDefs","sanitizedItem","getCurrentData"],d=UT.Collection.sanitizeItem,f=function(t){UT.Collection.validateOptions(t),operations={},s=[],c=[],l=[],n=t.currentUserId,o=t.delegate,r=t.data,this.name=r.name,u=r.count,p.call(this,r.items)},p=function(t){if(a={},t){for(var e=0;t.length>e;e++){var i=t[e],n=i._key;a[n]=i,v.call(this,n,i),s.push(n)}this.length=s.length}},v=function(t){-1==l.indexOf(t)&&-1==h.indexOf(t)&&(l.push(t),this.__defineGetter__(t,function(){return i.call(this,t)}),this.__defineSetter__(t,function(i){return e.call(this,t,i)}))},m=function(){for(var t=Object.keys(this),i=t.length-1;i>=0;i--){var n=t[i];-1==h.indexOf(n)&&-1==l.indexOf(n)&&(e.call(this,n,this[n]),v.call(this,n,this[n]))}};f.call(this,t)},UT.Collection.validateOptions=function(t){if(!t.data)throw Error("ArgumentError","missing data");if(!t.data.name)throw Error("ArgumentError","no name in data");if(void 0===t.data.count)throw Error("ArgumentError","no count in data")},UT.Collection.marshallItem=function(t){return t&&t.marshall?t.marshall():t?t:null},UT.Collection.sanitizeItem=function(t,e){if(void 0!==e&&null!==e){if(e&&e.marshall)return e._key=t,e;if("function"==typeof e)throw Error("ArgumentError cannot serialize function");("object"!=typeof e||[].constructor===e.constructor)&&(e={_type:"literal",value:e});var i={};if(i=e,i._key=t,e.constructor!=={}.constructor)throw Error("Unserialisable object");return i}},UT.CollectionStore=function(t){this.data=t.data;var e=t.delegate;e.store=this;for(var i={},n=0;this.data.length>n;n++){var o=this.data[n],r=o.name;if(!r)throw Error("ArgumentError","data contains unamed collections.");i[r]=new UT.Collection({data:o,postMessageApi:t.postMessageApi,currentUserId:t.currentUserId,delegate:e})}this.get=function(t){return i[t]},this.set=function(t){i[t.name]=t},this.each=function(t){for(var e in i)t(i[e])},this.flush=function(){e.flush()},this.getCurrentData=function(){o=[];for(var t in i)o.push(i[t].getCurrentData());return o},this.refresh=function(t,i){e.refreshCollections(t,i)}},function(){"use strict";UT.PublicCollection=function(t){this.length=0,this.name=null;var e=null,i=!1;this.setUserItem=function(t){if(!o)throw r.authenticate(),Error("ArgumentError","No currentUserId defined");var a=o,s=n(a,t),l=e;return s||l?(u(l,s),!l||null!==s&&void 0!==s?!l&&s?(c++,e=s):e=s:(c--,e=null),i=!0,e):s},this.getUserItem=function(){return o?e:void 0},this.average=function(t){return s[t]?s[t].average:void 0},this.sum=function(t){return s[t]?s[t].sum:void 0};var n=function(t,e){var i=UT.Collection.sanitizeItem(t,e),n=a.definition.fields;if(e&&n&&n.length>0){for(var o=!1,r=0;n.length>r;r++){var s=n[r];if(void 0!==e[s.name])if(o=!0,"string"==s.type)i[s.name]=e[s.name];else if("number"==s.type){var c=parseFloat(e[s.name]);if(isNaN(c)||!isFinite(e[s.name]))throw Error("TypeError","Wrong value for field note");i[s.name]=c}else{if("boolean"!=s.type)throw Error("TypeError","Unkown type "+s.type);i[s.name]=!!e[s.name]}}if(!o)throw Error("InvalidItemError no valid field specified")}return i};this.count=function(t){if(!t)return c;if(s[t])return s[t]?s[t].count:void 0},this.toString=function(){return'<PublicCollection @name="'+this.name+'">'},this.save=function(){if(i){var t={};t[o]=UT.Collection.marshallItem(e),r.save(this.name,t),i=!1}},this.getCurrentData=function(){var t={name:this.name,count:c,definition:a.definition,operations:[],items:[]};if(a.operations)for(var i=0;a.operations.length>i;i++){var n={operation:a.operations[i].operation,field:a.operations[i].field};l[n.operation].toJsonData(s[n.field],n),t.operations.push(n)}return e._key=o,t.items.push(e),t},this.refresh=function(t){h.call(this,{currentUserId:o,delegate:r,data:t})};var o,r,a,s,c,l={_transfer:function(t,e){for(var i=Array.prototype.slice.call(arguments,2),n=i.length-1;n>=0;n--)e[i[n]]=t[i[n]]},average:{fromJsonData:function(t,e){void 0===e.average||void 0===e.average_count?(t.average=-1,t.average_count=0):l._transfer(e,t,"average","average_count")},toJsonData:function(t,e){l._transfer(t,e,"average","average_count")},recompute:function(t,e,i,n){var o=t.average_count;i&&void 0!==i[e.field]&&(t.average=(t.average*o-i[e.field])/parseFloat(o-1),o--,console.log("Average: substract from old item:"+t.average)),n&&void 0!==n[e.field]&&(t.average=(t.average*o+n[e.field])/parseFloat(o+1),o++,console.log("Average: add from new item:"+t.average)),t.average_count=o}},count:{fromJsonData:function(t,e){void 0===e.count?t.count=0:l._transfer(e,t,"count")},toJsonData:function(t,e){l._transfer(t,e,"count")},recompute:function(t,e,i,n){i&&i[e.field]&&void 0!==i[e.field]&&(t.count=t.count-1),n&&n[e.field]&&void 0!==n[e.field]&&t.count++}},sum:{fromJsonData:function(t,e){void 0===e.sum?t.sum=0:l._transfer(e,t,"sum")},toJsonData:function(t,e){l._transfer(t,e,"sum")},recompute:function(t,e,i,n){i&&i[e.field]&&void 0!==i[e.field]&&(t.sum=t.sum-i[e.field]),n&&n[e.field]&&void 0!==n[e.field]&&(t.sum=t.sum+n[e.field])}}},u=function(t,e){if(a.operations)for(var i=0;a.operations.length>i;i++){var n=a.operations[i];(e&&void 0!==e[n.field]||t&&void 0!==t[n.field])&&l[n.operation].recompute(s[n.field],n,t,e)}},h=function(t){if(UT.Collection.validateOptions(t),s={},o=t.currentUserId,r=t.delegate,a=t.data,this.name=a.name,c=a.count,a.operations)for(var e=0;a.operations.length>e;e++){var i=a.operations[e];s[i.field]=s[i.field]||{},l[i.operation].fromJsonData(s[i.field],i)}d.call(this,a.items)},d=function(t){if(t)for(var i=0;t.length>i;i++){var n=t[i],r=n._key;r==o&&(e=n)}};h.call(this,t)}}(),function(){var t,e,i=[],n={},o=!1;UT.Expression=function(){throw Error("StaticClass")},UT.Expression.ready=function(e){-1==i.indexOf(e)&&i.push(e),o&&e.call(this,t)};var r=UT.Expression._callAPI=function(t,i,o){var r={type:"ExpAPICall",methodName:t,args:i,expToken:e?e.expToken:null};if(o){var a=""+UT.uuid();n[a]=o,r.callbackId=a}var s=JSON.stringify(r);window.parent.postMessage(s,"*")},a=function(t,e){var i=n[t];i&&(e&&e instanceof Array||window.console&&console.error&&console.error("received result is not an array.",e),i.apply(this,e),delete n[t])},s=function(n){e=n,o=!0,e.readyToPost=!1,t=new UT.Post(e),t.on("scrollChanged",function(t){e.scrollValues=t});for(var r=0;i.length>r;r++)i[r].apply(t,[t])},c=function(){t.fire("publish"),r("posted")},l=function(){t.fire("pause")};UT.Expression._dispatch=function(e){switch(e.type){case"ready":s(e.options);break;case"triggerEvent":t.fire.apply(t,[e.eventName].concat(e.eventArgs));break;case"callback":a(e.callbackId,e.result);break;case"post":c();break;case"pause":l()}},UT.Expression._reset=function(){i=[],n=[],t=null,o=!1},UT.Expression._postInstance=function(){return t=t}}(),function(){UT.Post=function(t){if(!t||!t.collections)throw Error("ArgumentError","Missing collections in state arguments");var e,i=this,n={},o=new UT.CollectionStore({data:t.collections,currentUserId:t.currentUserId,delegate:{save:function(t,e,i){UT.Expression._callAPI("collections.save",[t,e],i)},authenticate:function(){UT.Expression._callAPI("authenticate")}}});if(t.parentData){var r=[];for(var a in t.parentData)t.parentData[a]._key=a,r.push(t.parentData[a]);e=new UT.Collection({data:{name:"parent",items:r,count:r.length},delegate:{save:function(){throw Error("ReadOnly collection")},authenticate:function(){throw Error("ReadOnly collection")}},currentUserId:t.currentUserId})}var s=function(e){return t.note=e,UT.Expression._callAPI("document.setNote",[t.note]),e};this.__defineGetter__("note",function(){return t.note}),this.__defineSetter__("note",function(t){return s(t)});var c=this.context={player:!1,editor:!1,thumbnail:!1,privacy:null};"edit"==t.mode?c.editor=!0:"player"==t.mode&&(c.player=!0),c.privacy=t.documentPrivacy,this.url=t.documentURL;var l=this.node=document.querySelector(".webdoc_expression_wrapper");if(!l)throw Error("Missing wrapper node");var u=function(t,e){"function"==typeof t&&(e=t,t={}),UT.Expression._callAPI("document.textInput",[t.value||null,t.max||null,t.multiline||!1],e)},h=function(t,e){UT.Expression._callAPI("medias.openImageChooser",[t],function(t){var n=new UT.Image;n.init(t),e.call(i,n)})},d=function(t,e){UT.Expression._callAPI("medias.openSoundChooser",[t],function(t){var n=new UT.Sound(t);e.call(i,n)}),UT.Expression._callAPI("medias.openSoundChooser",[t],e)},f=function(t,e){UT.Expression._callAPI("medias.openVideoChooser",[t],function(t){var n=new UT.Video(t);e.call(i,n)})},p=function(t,e){t.image.descriptor&&(t.image=t.image.descriptor),UT.Expression._callAPI("medias.crop",[t],function(n){var o=null;t.image.init?(t.image.init(n),o=t.image):(o=new UT.Image,o.init(n)),e.call(i,o)})},v={text:u,image:h,sound:d,video:f,crop:p},m=this.fire=function(t){var e,o,r,a,s,c=n[t],l=[],u="after"+t.charAt(0).toUpperCase()+t.slice(1);if(c){for(c=c.slice(0),e=c.length,o=-1,a=Array.prototype.slice.call(arguments,1),callbackTarget=0!==a.length?a[0]:i;e>++o;)r=c[o],s=r.apply(callbackTarget,a),s&&"function"==typeof s.then&&l.push(s);l.length>0?when.all(l).then(function(){m(u)}):m(u)}},g=this.on=function(t,e){var i=n[t]||(n[t]=[]);"function"==typeof e&&i.push(e)};this.off=function(t,e){var i,o=n[t];if(o){if(!e)return delete n[t],void 0;for(i=o?o.indexOf(e):-1;-1!==i;)o.splice(i,1),i=o.indexOf(e)}},this.valid=function(e){return void 0!==e&&e!=t.readyToPost&&(t.readyToPost=!!e,UT.Expression._callAPI("document.readyToPost",[t.readyToPost])),t.readyToPost},this.scollChanged=function(t){g("scrollChanged",t)},this.imageAdded=function(t){g("imageAdded",t)},this.dialog=function(t,e,i){if(void 0===i&&"function"==typeof e&&(i=e,e={}),!v[t])throw Error("InvalidArgument","unknown dialog type "+t);v[t](e,i)},this.resize=function(t){var e;"number"==typeof t?e=t:t&&"auto"==t?e=l.offsetHeight:t&&t.height&&(e="string"==typeof t.height&&t.height.match&&t.height.match(/^[0-9]+px$/)?t.height.substring(0,t.height.length-2):t.height),UT.Expression._callAPI("container.resizeHeight",[e])},this.pushNavigation=function(t,e){UT.Expression._callAPI("container.pushNavigation",[t],e)},this.popNavigation=function(){UT.Expression._callAPI("container.popNavigation")},this.navigate=function(t){var e={};arguments.length>=2?e=arguments[1]:1===arguments.length&&(e=t,t="browse");var i={app:t,parameters:e};UT.Expression._callAPI("container.navigate",[i])};var y=this.collection=function(t){return"parent"==t?e||null:o.get(t)};this.save=function(){o.each(function(t){t.save()})},this.getUserData=function(t){UT.Expression._callAPI("document.getUserData",[],t)},this.storage=y("default"),window.addEventListener("resize",function(){i.fire("resize",new UT.ResizeEvent(window.offsetWidth,window.offsetHeight))},!1)}}(),UT.Image=function(t){this.url="",this.info={},this.type="image",this.crop=function(t,e){UT.Expression._callAPI("medias.recrop",[{size:t,image:this.descriptor}],function(t){this.init(t),e.call(this,this)}.bind(this))},this.autocrop=function(t,e,i){UT.Expression._callAPI("medias.crop",[{size:{width:t,height:e,auto:!0},image:this.descriptor}],function(t){this.init(t),i.call(this,this)}.bind(this))},this.filter=function(t,e){UT.Expression._callAPI("medias.applyFilter",[{filter:t,image:this.descriptor}],function(t){this.init(t),e.call(this,this)}.bind(this))},this.editable=function(t){UT.Expression._callAPI("medias.getEditableImage",[this.url],function(e){this.url=e,t.call(this,this)}.bind(this))},this.marshall=function(){return this.descriptor._type="image",this.descriptor},this.init=function(t){"string"==typeof t?(this.url=t,this.descriptor={},this.descriptor.url=t,this.descriptor._type="image"):(this.url=t.url,this.descriptor=t,this.info=t.info,t.center&&(this.info.crop=t.center))},this.descriptor={},t&&this.init(t)},UT.Video=function(t){function e(t){this.url=t.url,i=t}this.url="",this.type="video",this.marshall=function(){return i.url=this.url,i._type="video",i};var i={};e.call(this,t)},UT.Sound=function(t){function e(t){i=t,this.service=t.service,this.url=t.url,this.title=t.title,this.artist=t.artist,this.cover=t.cover,this.artistCover=t.artistCover,this.soundCover=t.soundCover,this.waveFormImage=t.waveFormImage,this.link=t.link,this.appData=t.appData}this.service="",this.url="",this.title="",this.artist="",this.cover="",this.artistCover="",this.soundCover="",this.waveFormImage="",this.link="",this.appData={},this.marshall=function(){return{_type:"sound",service:this.service,url:this.url,title:this.title,artist:this.artist,cover:this.cover,artistCover:this.artistCover,soundCover:this.soundCover,waveFormImage:this.waveFormImage,link:this.link,appData:this.appData}};var i={};e.call(this,t)},function(){UT.ResizeEvent=function(t,e){this.height=e,this.width=t}}(),FastClick.prototype.deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,FastClick.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),FastClick.prototype.deviceIsIOS4=FastClick.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),FastClick.prototype.deviceIsIOSWithBadTarget=FastClick.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),FastClick.prototype.needsClick=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"button":case"input":return this.deviceIsIOS&&"file"===t.type?!0:t.disabled;case"label":case"video":return!0;default:return/\bneedsclick\b/.test(t.className)}},FastClick.prototype.needsFocus=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"textarea":case"select":return!0;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled;default:return/\bneedsfocus\b/.test(t.className)}},FastClick.prototype.sendClick=function(t,e){"use strict";var i,n;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),n=e.changedTouches[0],i=document.createEvent("MouseEvents"),i.initMouseEvent("click",!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,t.dispatchEvent(i)},FastClick.prototype.focus=function(t){"use strict";var e;this.deviceIsIOS&&t.setSelectionRange?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},FastClick.prototype.updateScrollParent=function(t){"use strict";var e,i;if(e=t.fastClickScrollParent,!e||!e.contains(t)){i=t;do{if(i.scrollHeight>i.offsetHeight){e=i,t.fastClickScrollParent=i;break}i=i.parentElement}while(i)}e&&(e.fastClickLastScrollTop=e.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(t){"use strict";return t.nodeType===Node.TEXT_NODE?t.parentNode:t},FastClick.prototype.onTouchStart=function(t){"use strict";var e,i,n;if(e=this.getTargetElementFromEventTarget(t.target),i=t.targetTouches[0],this.deviceIsIOS){if(n=window.getSelection(),n.rangeCount&&!n.isCollapsed)return!0;if(!this.deviceIsIOS4){if(i.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=i.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=i.pageX,this.touchStartY=i.pageY,200>t.timeStamp-this.lastClickTime&&t.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(t){"use strict";var e=t.targetTouches[0];return Math.abs(e.pageX-this.touchStartX)>10||Math.abs(e.pageY-this.touchStartY)>10?!0:!1},FastClick.prototype.onTouchMove=function(t){"use strict";return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},FastClick.prototype.findControl=function(t){"use strict";return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(t){"use strict";var e,i,n,o,r,a=this.targetElement;if(!this.trackingClick)return!0;if(200>t.timeStamp-this.lastClickTime)return this.cancelNextClick=!0,!0;if(this.lastClickTime=t.timeStamp,i=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,this.deviceIsIOSWithBadTarget&&(r=t.changedTouches[0],a=document.elementFromPoint(r.pageX-window.pageXOffset,r.pageY-window.pageYOffset)),n=a.tagName.toLowerCase(),"label"===n){if(e=this.findControl(a)){if(this.focus(a),this.deviceIsAndroid)return!1;a=e}}else if(this.needsFocus(a))return t.timeStamp-i>100||this.deviceIsIOS&&window.top!==window&&"input"===n?(this.targetElement=null,!1):(this.focus(a),this.deviceIsIOS4&&"select"===n||(this.targetElement=null,t.preventDefault()),!1);return this.deviceIsIOS&&!this.deviceIsIOS4&&(o=a.fastClickScrollParent,o&&o.fastClickLastScrollTop!==o.scrollTop)?!0:(this.needsClick(a)||(t.preventDefault(),this.sendClick(a,t)),!1)},FastClick.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onClick=function(t){"use strict";var e;return this.targetElement?t.forwardedTouchEvent?!0:(e=this.targetElement,this.targetElement=null,this.trackingClick?(this.trackingClick=!1,!0):t.cancelable?"submit"===t.target.type&&0===t.detail?!0:!this.needsClick(e)||this.cancelNextClick?(this.cancelNextClick=!1,t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1):!0:!0):!0},FastClick.prototype.destroy=function(){"use strict";var t=this.layer;t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},"undefined"!=typeof define&&define.amd&&define(function(){"use strict";return FastClick}),"undefined"!=typeof module&&module.exports&&(module.exports=function(t){"use strict";return new FastClick(t)},module.exports.FastClick=FastClick),("ontouchstart"in window||"onmsgesturechange"in window)&&(document.querySelector("html").className=document.querySelector("html").className+" touch",FastClick!==void 0&&window.addEventListener("load",function(){new FastClick(document.body)},!1)),window.addEventListener("message",function(t){try{msgObj=JSON.parse(t.data)}catch(e){console&&console.error&&console.error("received invalid message",t.data,e.message),msgObj={}}UT.Expression._dispatch(msgObj)},!1);